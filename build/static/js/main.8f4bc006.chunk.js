(this.webpackJsonptable_app=this.webpackJsonptable_app||[]).push([[0],{15:function(e,a,t){e.exports={Form:"AddLine_Form__XEJg8",FormWrap:"AddLine_FormWrap__QILp3",FormTitle:"AddLine_FormTitle__2vc6K"}},18:function(e,a,t){e.exports={Header:"Header_Header__2ggFj",HeaderTitle:"Header_HeaderTitle__2IACc"}},36:function(e,a,t){},4:function(e,a,t){e.exports={Table:"Table_Table__1-TSX",TableHeader:"Table_TableHeader__2OFLr",TableData:"Table_TableData__2Jsf9",TableHeaderRow:"Table_TableHeaderRow__3QHdB",TableDataRow:"Table_TableDataRow__3MdZq",TableBtnContainer:"Table_TableBtnContainer__1wxEB",TableSaveBtn:"Table_TableSaveBtn__28sPm",TableCalcBtn:"Table_TableCalcBtn__2-wwx",TableNote:"Table_TableNote__1jIY9"}},79:function(e,a,t){"use strict";t.r(a);var n=t(0),c=t(13),s=t.n(c),l=(t(36),t(18)),r=t.n(l),i=t(1),d=function(){return Object(i.jsx)("header",{className:r.a.Header,children:Object(i.jsx)("h1",{className:r.a.HeaderTitle,children:"Welcome to the Table App"})})},o=t(7),b=t(8),u=t(4),j=t.n(u),h=t(9),O=t.n(h),p=function(e){var a=e.type,t=void 0===a?"button":a,n=e.disabled,c=void 0!==n&&n,s=e.onClick,l=e.title,r=e.className,d=e.disClass,o=O()("btn",r);return c&&(o=O()("btn",r,d)),Object(i.jsx)("button",{className:o,type:t,disabled:c,onClick:s,children:l})},g="SHOW_LOADER",_="HIDE_LOADER",T="ADD_TOTABLE",f="ADD_TONEWDATA",D="CLEAR_TONEWDATA",v="CHANGE_REGDATE",m="CHANGE_USERID",x="CHANGE_LASTACTIVEDATA",y=function(e){return{type:T,payload:e}},N=t(12),A=t.n(N),w=t(30),I=t.n(w),L=Object(b.b)((function(e){return{tableData:e.changedate.data,newInfo:e.changedate.newData}}),(function(e){return{clearNew:function(){e({type:D})},renderData:function(a){e(y(a))}}}))((function(e){var a=e.tableData,t=e.newInfo,c=e.clearNew,s=e.renderData,l=Object(n.useState)(""),r=Object(o.a)(l,2),d=r[0],b=r[1],u=Object(n.useState)(!1),h=Object(o.a)(u,2),O=h[0],g=h[1];Object(n.useEffect)((function(){A.a.get("http://94.250.248.169:3001/api/get").then((function(e){var a=[];e.data.length&&e.data.forEach((function(e){var t={};t.UserID=e.UserID,t.Data_Registration=e.Data_Registration.slice(0,10).split("-").reverse().join("-"),t.Last_Activity=e.Last_Activity.slice(0,10).split("-").reverse().join("-"),a.push(t)})),g(!0),s(a)}))}),[]);return O?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("table",{className:j.a.Table,children:[Object(i.jsx)("thead",{children:Object(i.jsxs)("tr",{className:j.a.TableHeader,children:[Object(i.jsx)("th",{className:j.a.TableHeaderRow,children:"UserID"}),Object(i.jsx)("th",{className:j.a.TableHeaderRow,children:"Date Registration"}),Object(i.jsx)("th",{className:j.a.TableHeaderRow,children:"Date Last Activity"})]})}),Object(i.jsx)("tbody",{children:a.map((function(e,a){return Object(i.jsxs)("tr",{className:j.a.TableData,children:[Object(i.jsx)("td",{className:j.a.TableDataRow,children:e.UserID}),Object(i.jsxs)("td",{className:j.a.TableDataRow,children:[" ",e.Data_Registration]}),Object(i.jsx)("td",{className:j.a.TableDataRow,children:e.Last_Activity})]},Date.now()+a)}))})]}),Object(i.jsxs)("div",{className:j.a.TableBtnContainer,children:[Object(i.jsx)(p,{title:"Save",className:j.a.TableSaveBtn,onClick:function(){A.a.post("http://94.250.248.169:3001/api/insert",{newInfo:t}).then((function(){alert("Successful insert")})).catch((function(e){console.log(e)})),c()}}),Object(i.jsx)(p,{title:"Calculate",className:j.a.TableCalcBtn,onClick:function(){A.a.get("http://94.250.248.169:3001/api/calc").then((function(e){var a=0;e.data.length&&(a=Math.trunc(+e.data[1].users/+e.data[0].users*100)),b(a)}))}})]}),d?Object(i.jsxs)("p",{className:j.a.TableNote,children:["Rolling Retention 7 day = ",d,"%"]}):null]}):Object(i.jsx)(I.a,{type:"TailSpin",color:"#5D6D97",height:100,width:100,className:"tac"})})),E=t(10),R=t(15),C=t.n(R);function H(e,a){if("date"===a){return/^[0-3]?[0-9]-[0-3]?[0-9]-(?:[0-9]{2})?[0-9]{2}$/gm.test(e)}return"id"!==a||""!==e.trim()&&e>0}var F=function(e){var a=e.type,t=void 0===a?"text":a,c=e.value,s=e.className,l=void 0===s?"":s,r=e.placeholder,d=e.onChange,b=e.id,u=e.label,j=e.labelClass,h=void 0===j?"":j,p=e.validType,g=e.errMessage,_=O()("input",l),T=O()("label",h),f=Object(n.useState)(!0),D=Object(o.a)(f,2),v=D[0],m=D[1];return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("label",{htmlFor:b,className:T,children:[u,Object(i.jsx)("input",{className:_,type:t,value:c,placeholder:r,onChange:function(e){H(e.target.value,p)?(e.target.classList.remove("inValidInput"),m(!0)):(e.target.classList.add("inValidInput"),m(!1)),d(e.target.value)},id:b}),v?null:Object(i.jsx)("p",{style:{color:"red",marginBottom:0},children:g})]})})},S=Object(b.b)((function(e){return{tableData:e.changedate.data,userId:e.changeInput.userId,RegDate:e.changeInput.regData,LastAct:e.changeInput.lastAct,newInfo:e.changedate.newData}}),(function(e){return{addLine:function(a){e(y(a))},changeId:function(a){e(function(e){return{type:m,payload:e}}(a))},changeReg:function(a){e({type:v,payload:a})},changeAct:function(a){e({type:x,payload:a})},addNew:function(a){e({type:f,payload:a})}}}))((function(e){var a=e.tableData,t=e.addLine,c=e.userId,s=e.RegDate,l=e.LastAct,r=e.changeId,d=e.changeReg,b=e.changeAct,u=e.newInfo,j=e.addNew,h=Object(n.useState)(!1),O=Object(o.a)(h,2),g=O[0],_=O[1];return Object(n.useEffect)((function(){var e=H(c,"id"),a=H(s,"date"),t=H(l,"date");_(!!(e&&a&&t))}),[s,l,c]),Object(i.jsxs)("form",{className:C.a.Form,children:[Object(i.jsx)("h2",{className:C.a.FormTitle,children:"Add user into the Table"}),Object(i.jsxs)("div",{className:C.a.FormWrap,children:[Object(i.jsx)(F,{type:"number",onChange:r,value:c,placeholder:"Enter user id",id:"userId",label:"Only number",validType:"id",errMessage:"Enter id > 0"}),Object(i.jsx)(F,{type:"text",onChange:d,value:s,placeholder:"Enter Reg Date",id:"userRegField",label:"User Reg Date",validType:"date",errMessage:"Date format: 12-12-2020"}),Object(i.jsx)(F,{type:"text",onChange:b,value:l,placeholder:"Enter Last Date",id:"userLastField",label:"User Last Visit",validType:"date",errMessage:"Date format: 12-12-2020"})]}),Object(i.jsx)(p,{disClass:"btn-dis",type:"submit",title:"Add user",disabled:!g,onClick:function(e){e.preventDefault();var n=Object(E.a)(a),r=Object(E.a)(u),i={id:n.length+1,UserID:c,Data_Registration:s,Last_Activity:l};console.log(i),n.push(i),console.log(n),t(n),i.Data_Registration=i.Data_Registration.split("-").reverse().join("-"),i.Last_Activity=i.Last_Activity.split("-").reverse().join("-"),r.push(i),j(r)}})]})}));var B=function(){return Object(n.useEffect)((function(){}),[]),Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(d,{}),Object(i.jsxs)("div",{className:"container",children:[Object(i.jsx)(S,{}),Object(i.jsx)(L,{})]})]})},U=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,80)).then((function(a){var t=a.getCLS,n=a.getFID,c=a.getFCP,s=a.getLCP,l=a.getTTFB;t(e),n(e),c(e),s(e),l(e)}))},k=t(31),W=t(6),M=t(3),V={data:[],newData:[]},X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case T:return Object(M.a)(Object(M.a)({},e),{},{data:Object(E.a)(a.payload)});case f:return Object(M.a)(Object(M.a)({},e),{},{newData:Object(E.a)(a.payload)});case D:return Object(M.a)(Object(M.a)({},e),{},{newData:[]});default:return e}},G={isLoaded:!1},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case g:return Object(M.a)(Object(M.a)({},e),{},{isLoaded:!1});case _:return Object(M.a)(Object(M.a)({},e),{},{isLoaded:!0});default:return e}},P={userId:"",regData:"",lastAct:""},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case m:return Object(M.a)(Object(M.a)({},e),{},{userId:a.payload});case v:return Object(M.a)(Object(M.a)({},e),{},{regData:a.payload});case x:return Object(M.a)(Object(M.a)({},e),{},{lastAct:a.payload});default:return e}},q=Object(W.c)({changedate:X,changeLoad:J,changeInput:Q}),K=Object(W.e)(q,Object(W.d)(Object(W.a)(k.a),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));s.a.render(Object(i.jsx)(b.a,{store:K,children:Object(i.jsx)(B,{})}),document.getElementById("root")),U()}},[[79,1,2]]]);
//# sourceMappingURL=main.8f4bc006.chunk.js.map