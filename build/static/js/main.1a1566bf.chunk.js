(this.webpackJsonptable_app=this.webpackJsonptable_app||[]).push([[0],{160:function(e,t,a){},204:function(e,t){},206:function(e,t){},216:function(e,t){},218:function(e,t){},244:function(e,t){},246:function(e,t){},247:function(e,t){},252:function(e,t){},254:function(e,t){},273:function(e,t){},285:function(e,t){},288:function(e,t){},336:function(e,t){},338:function(e,t){},348:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a(47),s=a.n(c),l=(a(160),a(80)),r=a.n(l),i=a(1),o=function(){return Object(i.jsx)("header",{className:r.a.Header,children:Object(i.jsx)("h1",{className:r.a.HeaderTitle,children:"Welcome to the Table App"})})},d=a(26),b=a(32),u=a(9),j=a.n(u),h=a(33),O=a.n(h),p=function(e){var t=e.type,a=void 0===t?"button":t,n=e.disabled,c=void 0!==n&&n,s=e.onClick,l=e.title,r=e.className,o=e.disClass,d=O()("btn",r);return c&&(d=O()("btn",r,o)),Object(i.jsx)("button",{className:d,type:a,disabled:c,onClick:s,children:l})},f="SHOW_LOADER",g="HIDE_LOADER",_="ADD_TOTABLE",T="ADD_TONEWDATA",D="CLEAR_TONEWDATA",v="CHANGE_REGDATE",m="CHANGE_USERID",x="CHANGE_LASTACTIVEDATA",y=function(e){return{type:_,payload:e}},N=a(41),w=a.n(N),A=a(154),I=a.n(A),L=Object(b.b)((function(e){return{tableData:e.changedate.data,newInfo:e.changedate.newData}}),(function(e){return{clearNew:function(){e({type:D})},renderData:function(t){e(y(t))}}}))((function(e){var t=e.tableData,a=e.newInfo,c=e.clearNew,s=e.renderData,l=Object(n.useState)(""),r=Object(d.a)(l,2),o=r[0],b=r[1],u=Object(n.useState)(!1),h=Object(d.a)(u,2),O=h[0],f=h[1];Object(n.useEffect)((function(){w.a.get("http://localhost:3001/api/get").then((function(e){console.log(e);var t=[];e.data.forEach((function(e){var a={};a.UserID=e.UserID,a.Data_Registration=e.Data_Registration.slice(0,10).split("-").reverse().join("-"),a.Last_Activity=e.Last_Activity.slice(0,10).split("-").reverse().join("-"),t.push(a)})),f(!0),s(t)}))}),[]);return O?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("table",{className:j.a.Table,children:[Object(i.jsx)("thead",{children:Object(i.jsxs)("tr",{className:j.a.TableHeader,children:[Object(i.jsx)("th",{className:j.a.TableHeaderRow,children:"UserID"}),Object(i.jsx)("th",{className:j.a.TableHeaderRow,children:"Date Registration"}),Object(i.jsx)("th",{className:j.a.TableHeaderRow,children:"Date Last Activity"})]})}),Object(i.jsx)("tbody",{children:t.map((function(e,t){return Object(i.jsxs)("tr",{className:j.a.TableData,children:[Object(i.jsx)("td",{className:j.a.TableDataRow,children:e.UserID}),Object(i.jsxs)("td",{className:j.a.TableDataRow,children:[" ",e.Data_Registration]}),Object(i.jsx)("td",{className:j.a.TableDataRow,children:e.Last_Activity})]},Date.now()+t)}))})]}),Object(i.jsxs)("div",{className:j.a.TableBtnContainer,children:[Object(i.jsx)(p,{title:"Save",className:j.a.TableSaveBtn,onClick:function(){w.a.post("http://localhost:3001/api/insert",{newInfo:a}).then((function(){alert("Successful insert")})).catch((function(e){console.log(e)})),c()}}),Object(i.jsx)(p,{title:"Calculate",className:j.a.TableCalcBtn,onClick:function(){w.a.get("http://localhost:3001/api/calc").then((function(e){var t=Math.trunc(+e.data[1].users/+e.data[0].users*100);b(t)}))}})]}),o?Object(i.jsxs)("p",{className:j.a.TableNote,children:["Rolling Retention 7 day = ",o,"%"]}):null]}):Object(i.jsx)(I.a,{type:"TailSpin",color:"#5D6D97",height:100,width:100,className:"tac"})})),E=a(34),R=a(49),C=a.n(R);function H(e,t){if("date"===t){return/^[0-3]?[0-9]-[0-3]?[0-9]-(?:[0-9]{2})?[0-9]{2}$/gm.test(e)}return"id"!==t||""!==e.trim()&&e>0}var F=function(e){var t=e.type,a=void 0===t?"text":t,c=e.value,s=e.className,l=void 0===s?"":s,r=e.placeholder,o=e.onChange,b=e.id,u=e.label,j=e.labelClass,h=void 0===j?"":j,p=e.validType,f=e.errMessage,g=O()("input",l),_=O()("label",h),T=Object(n.useState)(!0),D=Object(d.a)(T,2),v=D[0],m=D[1];return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("label",{htmlFor:b,className:_,children:[u,Object(i.jsx)("input",{className:g,type:a,value:c,placeholder:r,onChange:function(e){H(e.target.value,p)?(e.target.classList.remove("inValidInput"),m(!0)):(e.target.classList.add("inValidInput"),m(!1)),o(e.target.value)},id:b}),v?null:Object(i.jsx)("p",{style:{color:"red",marginBottom:0},children:f})]})})},S=Object(b.b)((function(e){return{tableData:e.changedate.data,userId:e.changeInput.userId,RegDate:e.changeInput.regData,LastAct:e.changeInput.lastAct,newInfo:e.changedate.newData}}),(function(e){return{addLine:function(t){e(y(t))},changeId:function(t){e(function(e){return{type:m,payload:e}}(t))},changeReg:function(t){e({type:v,payload:t})},changeAct:function(t){e({type:x,payload:t})},addNew:function(t){e({type:T,payload:t})}}}))((function(e){var t=e.tableData,a=e.addLine,c=e.userId,s=e.RegDate,l=e.LastAct,r=e.changeId,o=e.changeReg,b=e.changeAct,u=e.newInfo,j=e.addNew,h=Object(n.useState)(!1),O=Object(d.a)(h,2),f=O[0],g=O[1];return Object(n.useEffect)((function(){var e=H(c,"id"),t=H(s,"date"),a=H(l,"date");g(!!(e&&t&&a))}),[s,l,c]),Object(i.jsxs)("form",{className:C.a.Form,children:[Object(i.jsx)("h2",{className:C.a.FormTitle,children:"Add user into the Table"}),Object(i.jsxs)("div",{className:C.a.FormWrap,children:[Object(i.jsx)(F,{type:"number",onChange:r,value:c,placeholder:"Enter user id",id:"userId",label:"Only number",validType:"id",errMessage:"Enter id > 0"}),Object(i.jsx)(F,{type:"text",onChange:o,value:s,placeholder:"Enter Reg Date",id:"userRegField",label:"User Reg Date",validType:"date",errMessage:"Date format: 12-12-2020"}),Object(i.jsx)(F,{type:"text",onChange:b,value:l,placeholder:"Enter Last Date",id:"userLastField",label:"User Last Visit",validType:"date",errMessage:"Date format: 12-12-2020"})]}),Object(i.jsx)(p,{disClass:"btn-dis",type:"submit",title:"Add user",disabled:!f,onClick:function(e){e.preventDefault();var n=Object(E.a)(t),r=Object(E.a)(u),i={id:n.length+1,UserID:c,Data_Registration:s,Last_Activity:l};console.log(i),n.push(i),console.log(n),a(n),i.Data_Registration=i.Data_Registration.split("-").reverse().join("-"),i.Last_Activity=i.Last_Activity.split("-").reverse().join("-"),r.push(i),j(r)}})]})})),B=a(79);a.n(B).a.createConnection({host:"localhost",user:"root",database:"users",password:"Pr0gresstech00++",port:3306});var U=function(){return Object(n.useEffect)((function(){}),[]),Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(o,{}),Object(i.jsxs)("div",{className:"container",children:[Object(i.jsx)(S,{}),Object(i.jsx)(L,{})]})]})},k=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,349)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,l=t.getTTFB;a(e),n(e),c(e),s(e),l(e)}))},W=a(155),M=a(22),V=a(6),X={data:[],newData:[]},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:return Object(V.a)(Object(V.a)({},e),{},{data:Object(E.a)(t.payload)});case T:return Object(V.a)(Object(V.a)({},e),{},{newData:Object(E.a)(t.payload)});case D:return Object(V.a)(Object(V.a)({},e),{},{newData:[]});default:return e}},J={isLoaded:!1},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return Object(V.a)(Object(V.a)({},e),{},{isLoaded:!1});case g:return Object(V.a)(Object(V.a)({},e),{},{isLoaded:!0});default:return e}},Q={userId:"",regData:"",lastAct:""},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return Object(V.a)(Object(V.a)({},e),{},{userId:t.payload});case v:return Object(V.a)(Object(V.a)({},e),{},{regData:t.payload});case x:return Object(V.a)(Object(V.a)({},e),{},{lastAct:t.payload});default:return e}},K=Object(M.c)({changedate:G,changeLoad:P,changeInput:q}),Y=Object(M.e)(K,Object(M.d)(Object(M.a)(W.a),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));s.a.render(Object(i.jsx)(b.a,{store:Y,children:Object(i.jsx)(U,{})}),document.getElementById("root")),k()},49:function(e,t,a){e.exports={Form:"AddLine_Form__XEJg8",FormWrap:"AddLine_FormWrap__QILp3",FormTitle:"AddLine_FormTitle__2vc6K"}},80:function(e,t,a){e.exports={Header:"Header_Header__2ggFj",HeaderTitle:"Header_HeaderTitle__2IACc"}},9:function(e,t,a){e.exports={Table:"Table_Table__1-TSX",TableHeader:"Table_TableHeader__2OFLr",TableData:"Table_TableData__2Jsf9",TableHeaderRow:"Table_TableHeaderRow__3QHdB",TableDataRow:"Table_TableDataRow__3MdZq",TableBtnContainer:"Table_TableBtnContainer__1wxEB",TableSaveBtn:"Table_TableSaveBtn__28sPm",TableCalcBtn:"Table_TableCalcBtn__2-wwx",TableNote:"Table_TableNote__1jIY9"}}},[[348,1,2]]]);
//# sourceMappingURL=main.1a1566bf.chunk.js.map